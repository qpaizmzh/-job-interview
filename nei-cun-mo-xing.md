## 内存模型

## 地址空间的划分

* 内核空间
* 用户空间

## JVM内存模型-JDK8

* 线程私有：程序计数器、虚拟机栈、本地方法栈
  * ### 程序计数器（Program Counter Register）

    * 当前线程所执行的字节码指示器（逻辑）
    * 改变计数器的值来选取下一条需要执行的字节码指令
    * 和线程是一对一的关系即“线程私有”
    * 对Java方法技术，对native方法记为“undefined”
    * 不会发生内存泄漏
  * Java虚拟机栈（Stack）
    * Java方法执行的内存模型
    * 包含多个栈帧
    * 局部变量表和操作树栈的区别
      * 局部变量表：包含方法执行过程中的所有变量
      * 操作树栈：入栈、出栈、复制、交换、产生消费变量
      * ![](/模型/1.png)
      * ![](/模型/2.png)
* 所有线程共享：MetaSpace,Java堆



