# 如何通过Redis实现分布式锁

* 实现分布式锁的时候，必须要保证分布式锁的原子性，保证在设置了锁之后能够立即设置过期时间，而不是分裂开来
* ![](/分布式锁/1.png)

## 大量的key同时过期的注意事项

### 集中过期，由于清除大量的key很耗时，会出现短暂的卡顿现象

* 解决方案：在设置key的过期时间的时候，给每个key加上随机值，使过期时间得到分散



